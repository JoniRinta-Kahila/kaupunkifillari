{"version":3,"sources":["components/main.tsx","scripts/getBikeStationStatusAsync.ts","components/stationInfo.tsx","App.tsx","index.tsx"],"names":["Main","GetBikeStationStatusAsync","stationName","a","fetch","method","headers","response","text","dataText","console","log","data","JSON","parse","ok","station","bikeRentalStations","find","x","name","Promise","reject","Error","StationInfo","stationReq","useParams","useState","setStation","useEffect","stat","warn","error","bikesAvailable","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6KAceA,EARmB,WAChC,OACE,wC,+BCYEC,EAAyB,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,sEACTC,MAAM,gFAAiF,CAC5GC,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAJY,cAC1BC,EAD0B,gBAQTA,EAASC,OARA,UAQ1BC,EAR0B,OAShCC,QAAQC,IAAIF,GACNG,EAAsBC,KAAKC,MAAML,IACnCF,EAASQ,GAXmB,wBAaxBC,EAD0BJ,EACPK,mBAAmBC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,OAASlB,KACjEQ,QAAQC,IAAI,UAAWK,GAdO,kBAerBA,GAEPK,QAAQC,OAAOC,MAAM,kDAjBO,QAmBhCF,QAAQC,OAAO,IAAIC,MAAM,UAnBO,4CAAH,sDAsBhBtB,ICLAuB,EAjCe,WAC5B,IACMC,EADSC,cACmBxB,YAElC,EAA8ByB,qBAA9B,mBAAOX,EAAP,KAAgBY,EAAhB,KAcA,OAZAC,qBAAU,WACR,sBAAC,4BAAA1B,EAAA,+EAEsBF,EAA0BwB,GAFhD,OAESK,EAFT,OAGGF,EAAWE,GACNA,GAAMpB,QAAQqB,KAAK,wBAJ3B,gDAMGrB,QAAQsB,MAAR,MANH,wDAAD,KASC,CAACP,IAEKT,EAEL,gCACE,+CAAkBA,EAAQI,QAC1B,iDAAoBJ,EAAQiB,kBAC5B,kDAAqBjB,EAAQiB,qBAI/B,8BACE,2CCjBOC,EATO,WACpB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWrC,IACjC,cAAC,IAAD,CAAOmC,OAAK,EAACC,KAAK,wBAAwBC,UAAWb,Q,OCL3Dc,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.87e34232.chunk.js","sourcesContent":["import React from 'react';\n\ntype MainProps = {\n\n}\n\nconst Main: React.FC<MainProps> = () => {\n  return (\n    <div>\n      Main\n    </div>\n  )\n}\n\nexport default Main;\n","export interface IBikeStation {\n  id: string,\n  lat: number,\n  lon: number,\n  name: string,\n  bikesAvailable: number,\n  spacesAvailable: number,\n  active: boolean,\n  fetchTime?: number,\n}\n\nexport interface IBikeStations {\n  bikeRentalStations: IBikeStation[],\n}\n\n/**\n * \n * @param stationName The name of the bicycle station.\n * @returns IBikeStation\n */\nconst GetBikeStationStatusAsync = async (stationName: string) => {\n  const response = await fetch('https://us-central1-kaupunkifillarit-aed04.cloudfunctions.net/api/getStations', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n\n  const dataText = await response.text();\n  console.log(dataText);\n  const data: IBikeStations = JSON.parse(dataText);\n  if (response.ok) {\n    const stations: IBikeStations = data;\n    const station = stations.bikeRentalStations.find(x => x.name === stationName);\n    console.log('station', station)\n    return !!station\n    ? station\n    : Promise.reject(Error('The station name you entered cannot be found'));\n  }\n  Promise.reject(new Error('ERROR'));\n};\n\nexport default GetBikeStationStatusAsync;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport GetBikeStationStatusAsync, { IBikeStation } from '../scripts/getBikeStationStatusAsync';\n\nconst StationInfo: React.FC = () => {\n  const params = useParams<any>();\n  const stationReq: string = params.stationName;\n\n  const [station, setStation] = useState<IBikeStation|null>();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const stat = await GetBikeStationStatusAsync(stationReq);\n        setStation(stat);\n        if (!stat) console.warn('Station is undefined');\n      } catch (err) {\n        console.error(err);\n      }\n    })();\n  }, [stationReq]);\n\n  return !!station\n  ? (\n      <div>\n        <p>Station name: {station.name}</p>\n        <p>Bikes available {station.bikesAvailable}</p>\n        <p>Station capacity {station.bikesAvailable}</p>\n      </div>\n    )\n  : (\n      <div>\n        <p>NO_DATA</p>\n      </div>\n    )\n}\n\nexport default StationInfo;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Main from './components/main';\nimport StationInfo from './components/stationInfo';\n\n\nconst App: React.FC = () => {\n  return (\n    <Switch>\n      <Route exact path='/' component={Main} />\n      <Route exact path='/station/:stationName' component={StationInfo} />\n    </Switch>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}